<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Roguelike</title>
    
    <!-- Library + plugins -->
    <script src="lib/kiwi.js"></script>
	<script src="lib/kiwipreloader.js"></script>
	<script src="lib/plugins/pathFinding.js"></script>
	<script src="lib/plugins/mapGenerator.js"></script>
	<script src="lib/plugins/ai.js"></script>
	<script src="lib/plugins/trajectory.js"></script> 
	
    <!-- In Game States -->
    <script type="text/javascript" src="src/states/play.js"></script>
    <script type="text/javascript" src="src/states/intro.js"></script>
    <script type="text/javascript" src="src/states/loading.js"></script>
    <script type="text/javascript" src="src/states/preloader.js"></script>
    
    <!-- 
    Core JavaScript Game File - Initalises the Game
    Has to be included after ALL the other in-game states as this script will use them in-game.
     -->
    <!-- <script type="text/javascript" src="src/game.js"></script> -->
</head>

<body>
  
    <div id="content"></div>
    <script>
    var state = new Kiwi.State('Play');

    state.preload = function () {
    
    this.addImage('sky', './src/img/menu.png');
};
state.create = function () {

    this.sky = new Kiwi.GameObjects.Sprite(this, this.textures.sky, 0, 0);
	this.addChild(this.sky);

    this.myText2 = new Kiwi.HUD.Widget.TextField( this.game, 'RogueLike', 250, 40 );
    this.game.huds.defaultHUD.addWidget( this.myText2 );

    this.myText2.style.color = '#ff0000';
    this.myText2.style.fontSize = '80px';
    this.myText2.style.textShadow = '2px 2px 5px orange';
    this.myText2.style.textAlign='center';
    this.menuWidth = 100;

    // Adds a menu widget to the defaultHUD of the game.
    this.myButton1 = new Kiwi.HUD.Widget.MenuItem( this.game, 'Start', -this.menuWidth, 0 );
    this.myButton1.style.color = 'white';
    this.myButton1.style.display = 'block';
    this.myButton1.style.boxSizing = 'border-box';
    this.myButton1.style.width = (this.menuWidth * 2).toString() + 'px';
    this.myButton1.style.textAlign = 'center';
    this.myButton1.style.cursor = 'pointer';
    this.myButton1.style.padding = '0.5em 1em';
    this.myButton1.style.backgroundColor = '#8F8A8A';

    this.myButton2 = new Kiwi.HUD.Widget.MenuItem( this.game, 'Options', -this.menuWidth, 50 );
    this.myButton2.style.color = 'white';
    this.myButton2.style.display = 'block';
    this.myButton2.style.boxSizing = 'border-box';
    this.myButton2.style.width = (this.menuWidth * 2).toString() + 'px';
    this.myButton2.style.textAlign = 'center';
    this.myButton2.style.cursor = 'pointer';
    this.myButton2.style.padding = '0.5em 1em';
    this.myButton2.style.backgroundColor = '#8F8A8A';

    this.myButton3 = new Kiwi.HUD.Widget.MenuItem( this.game, 'Quit', -this.menuWidth, 100 );
    this.myButton3.style.color = 'white';
    this.myButton3.style.display = 'block';
    this.myButton3.style.boxSizing = 'border-box';
    this.myButton3.style.width = (this.menuWidth * 2).toString() + 'px';
    this.myButton3.style.textAlign = 'center';
    this.myButton3.style.cursor = 'pointer';
    this.myButton3.style.padding = '0.5em 1em';
    this.myButton3.style.backgroundColor = '#8F8A8A';


    this.menu = new Kiwi.HUD.Widget.Menu( this.game, 0, 150 );
    this.menu.addMenuItem( this.myButton1 );
    this.menu.addMenuItem( this.myButton2 );
    this.menu.addMenuItem( this.myButton3 );
    this.game.huds.defaultHUD.addWidget( this.menu );
    
    this.menu.getMenuItem(0).input.onDown.add( this.leftButton, this );
    this.menu.getMenuItem(1).input.onDown.add( this.rightButton, this );
    this.menu.getMenuItem(2).input.onDown.add( this.resetButton, this );

    this.resetButton();

}

state.leftButton = function () {
  
// var game = new Kiwi.Game('content', 'RoguelikeGame', null, gameOptions);
// game.states.addState(Preloader);
// game.states.addState(LoadingState);
// game.states.addState(IntroState);
// game.states.addState(PlayState);

// game.states.switchState("Preloader");

this.arquivoHtml = new string;
arquivoHtml= File.ReadAllText('./play.html');

return arquivoHtml;

}

state.rightButton = function () {
    this.menu.x += 10;
}

state.resetButton = function () {
    this.menu.x = this.game.stage.width / 2;
}


var gameOptions = {
	width: 812,
	height: 512
};

var game = new Kiwi.Game('game-container', 'Menu', state, gameOptions);
var game = new Kiwi.Game('game-container', 'LoadingAnImage', state, gameOptions);

    
    </script>

</body>
</html>
